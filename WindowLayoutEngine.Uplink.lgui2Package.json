{
    "$schema": "http://www.lavishsoft.com/schema/lgui2Package.json",
    "templates":{
        "windowLayoutEngine.regionView":{
            "jsonTemplate":"mapitemview",
            "type":"mapitemview",
            "virtualAlignment":"corner",
            "virtualSizeBinding":{
                "pullFormat":"${This.Context.Data.Get[width]},${This.Context.Data.Get[height]}"
            },
            "virtualLocationBinding":{
                "pullFormat":"${This.Context.Data.Get[x]},${This.Context.Data.Get[y]}"
            },
            "backgroundBrush":{
                "color":"#000000"
            },
            "borderThickness":[2,2,2,2],
            "borderBrush":{
                "color":"#ffffff"
            },
            "content":{
                "type":"textblock",
                "text":"${This.Context.Data.Get[numRegion]}"
            }
        },
        "windowLayoutEngine.regionView1":{
            "jsonTemplate":"windowLayoutEngine.regionView",
            "backgroundBrush":{
                "color":"#996666"
            }            
        },
        "windowLayoutEngine.regionView2":{
            "jsonTemplate":"windowLayoutEngine.regionView",
            "backgroundBrush":{
                "color":"#669966"
            }            
        },
        "windowLayoutEngine.regionView3":{
            "jsonTemplate":"windowLayoutEngine.regionView",
            "backgroundBrush":{
                "color":"#666699"
            }            
        },
        "windowLayoutEngine.regionView4":{
            "jsonTemplate":"windowLayoutEngine.regionView",
            "backgroundBrush":{
                "color":"#996699"
            }            
        },
        "windowLayoutEngine.screenView":{
            "jsonTemplate":"mapitemview",
            "type":"mapitemview",
            "virtualAlignment":"corner",
            "virtualSizeBinding":{
                "pullFormat":"${This.Context.Data.Get[width]},${This.Context.Data.Get[height]}"
            },
            "virtualLocationBinding":{
                "pullFormat":"${This.Context.Data.Get[left]},${This.Context.Data.Get[top]}"
            },
            "backgroundBrush":{
                "color":"#0000FF"
            },
            "borderThickness":[2,2,2,2],
            "borderBrush":{
                "color":"#ffffff"
            },
            "strata": 0.4
        },
        "windowLayoutEngine.layoutView":{
            "jsonTemplate":"listboxitem",
            "padding":2,
            "content":{
                "type":"dockpanel",
                "horizontalAlignment":"stretch",
                "children":[
                    {
                        "_dock":"left",
                        "type":"textblock",
                        "text":"Layout ${This.Context.Index}: ${This.Context.Data.Get[name]}",
                        "minSize":[120,0]
                    },
                    {
                        "_dock":"right",
                        "type":"map",
                        "-width":400,
                        "horizontalAlignment":"stretch",
                        "height":100,
                        "fixedAspectRatio":true,
                        "virtualLocation":[0,0],
                        "virtualSize":[1920,1080],
                        "virtualAlignment":"corner",
                        "content":{
                            "jsonTemplate":"map.content",
                            "backgroundBrush":{
                                "color":"#222222"
                            }    
                        },
                        "itemsBinding":{
                            "pullFormat":"${WLEngine.GetPreviewItems[${This.Context.Index},${This.ID}]}"
                        },
                        "itemViewGenerators":{
                            "screen":{
                                "type":"template",
                                "template":"windowLayoutEngine.screenView"
                            },
                            "region":{
                                "type":"template",
                                "template":"windowLayoutEngine.regionView"
                            },
                            "region1":{
                                "type":"template",
                                "template":"windowLayoutEngine.regionView1"
                            },
                            "region2":{
                                "type":"template",
                                "template":"windowLayoutEngine.regionView2"
                            },
                            "region3":{
                                "type":"template",
                                "template":"windowLayoutEngine.regionView3"
                            },
                            "region4":{
                                "type":"template",
                                "template":"windowLayoutEngine.regionView4"
                            }
                        }
                    }
                ]
            }
        }
    },
    "elements":[
        {
            "type":"panel",
            "visibility": "hidden",
            "name":"windowLayoutEngine.events"
        },
        {
            "type":"window",
            "name":"windowLayoutEngine.mainWindow",
            "title":"Joe Multiboxer: Window Layout Engine Development",
            "hideOnClose": true,
            "horizontalAlignment": "center",
            "verticalAlignment": "center",
            "width":600,
            "height":400,
            "content":{
                "type":"dockpanel",
                "horizontalAlignment": "stretch",
                "verticalAlignment": "stretch",                
                "children":[
                    {
                        "type":"dragger",
                        "width":350,
                        "allowMove":false,
                        "allowSize":true,
                        "borderThickness":[0,0,5,0],
                        "borderBrush":{"color":"#ffffff"},
                        "content":{
                            "type":"listbox",
                            "name":"listLayouts",
                            "_dock":"bottom",
                            "contentContainer":{
                                "jsonTemplate":"listbox.contentContainerFitWidth"
                            },
                            "horizontalAlignment":"stretch",
                            "itemsBinding":{
                                "pullFormat":"${WLEngine.Layouts}"
                            },
                            "itemViewGenerators":{
                                "default":{
                                    "type":"template",
                                    "template":"windowLayoutEngine.layoutView"
                                }
                            }
                        }
                    },
                    {
                        "type":"dockpanel",
                        "_dock":"right",
                        "children":[
                            {
                                "type":"objectview",
                                "_dock":"top",
                                "objectBinding": {
                                    "pullFormat":"${WLEngine.GeneratorSettings}"
                                },
                                "properties": [
                                    {
                                        "name":"Generator",
                                        "dataBinding":{
                                            "pullFormat":"${_CONTEXT_.Object.Get[generator]}",
                                            "pullReplaceNull":"",
                                            "pushFormat":["_CONTEXT_.Object:SetString[generator,\"","\"]"]
                                        },
                                        "editTemplate":"propertyview.textbox"          
                                    },
                                    {
                                        "name":"Avoid Taskbar",
                                        "dataBinding":{
                                            "pullFormat":"${_CONTEXT_.Object.Get[avoidTaskbar]}",
                                            "pullReplaceNull":"",
                                            "pushFormat":["_CONTEXT_.Object:SetString[avoidTaskbar,\"","\"]"]
                                        },
                                        "editTemplate":"propertyview.checkbox"          
                                    },
                                    {
                                        "name":"Leave Hole",
                                        "dataBinding":{
                                            "pullFormat":"${_CONTEXT_.Object.Get[leaveHole]}",
                                            "pullReplaceNull":"",
                                            "pushFormat":["_CONTEXT_.Object:SetString[leaveHole,\"","\"]"]
                                        },
                                        "editTemplate":"propertyview.checkbox"          
                                    },
                                    {
                                        "name":"Number of Slots",
                                        "dataBinding":{
                                            "pullFormat":"${_CONTEXT_.Object.Get[numSlots]}",
                                            "pullReplaceNull":"",
                                            "pushFormat":["_CONTEXT_.Object:SetInteger[numSlots,\"","\"]"]
                                        },
                                        "editTemplate":"propertyview.textbox"
                                    },
                                    {
                                        "name":"Number of Inactive Windows",
                                        "dataBinding":{
                                            "pullFormat":"${_CONTEXT_.Object.Get[numInactiveWindows]}",
                                            "pullReplaceNull":"",
                                            "pushFormat":["_CONTEXT_.Object:SetInteger[numInactiveWindows,\"","\"]"]
                                        },
                                        "editTemplate":"propertyview.textbox"
                                    },
                                    {
                                        "name":"Edge",
                                        "dataBinding":{
                                            "pullFormat":"${_CONTEXT_.Object.Get[edge]}",
                                            "pullReplaceNull":"",
                                            "pushFormat":["_CONTEXT_.Object:SetString[edge,\"","\"]"]
                                        },
                                        "editTemplate":"propertyview.textbox"          
                                    },
                                    {
                                        "name":"Rows",
                                        "dataBinding":{
                                            "pullFormat":"${_CONTEXT_.Object.Get[rows]}",
                                            "pullReplaceNull":"",
                                            "pushFormat":["_CONTEXT_.Object:SetInteger[rows,\"","\"]"]
                                        },
                                        "editTemplate":"propertyview.textbox"
                                    },
                                    {
                                        "name":"Columns",
                                        "dataBinding":{
                                            "pullFormat":"${_CONTEXT_.Object.Get[columns]}",
                                            "pullReplaceNull":"",
                                            "pushFormat":["_CONTEXT_.Object:SetInteger[columns,\"","\"]"]
                                        },
                                        "editTemplate":"propertyview.textbox"
                                    }
                                ]
                            },
                            {
                                "type":"button",
                                "_dock":"top",
                                "horizontalAlignment":"right",
                                "content":"Generate",
                                "margin":3,
                                "eventHandlers":{
                                    "onPress":{
                                        "type":"code",
                                        "code":"WLEngine:GenerateLayouts"
                                    }
                                }
                            },
                            {
                                "type":"button",
                                "_dock":"bottom",
                                "horizontalAlignment":"right",
                                "content":"Activate Selected Layout",
                                "margin":3,
                                "eventHandlers":{
                                    "onPress":{
                                        "type":"code",
                                        "code":"WLEngine:SelectLayout[\"${LGUI2.Element[listLayouts].SelectedItem.Index}\"]"
                                    }
                                }
                            }
                        ]
                    }
                ]
            }
        }
    ]
}